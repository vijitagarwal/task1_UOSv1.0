<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - GhoomiGhoomi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/login.css">
    
</head>
<body>

    <div class="split">
        <div class="left"></div>
        <div class="right">
            <div class="auth-box">
                <h2 class="fw-bold text-warning mb-4">GhoomiGhoomi</h2>
                
                <form id="loginForm">
                    <h4 class="mb-3">Welcome Back</h4>
                    <input type="email" id="lEmail" class="form-control mb-3" placeholder="Email" required>
                    <input type="password" id="lPass" class="form-control mb-3" placeholder="Password" required>
                    <button class="btn btn-dark w-100 mb-3">Login</button>
                    <p>No account? <a href="#" onclick="toggle()">Sign Up</a></p>
                    <p><a href="index.html" class="text-muted">Back to Home</a></p>
                </form>

                <form id="signupForm" class="hidden">
                    <h4 class="mb-3">Create Account</h4>
                    <input type="text" id="rName" class="form-control mb-3" placeholder="Full Name" required>
                    <input type="email" id="rEmail" class="form-control mb-3" placeholder="Email" required>
                    <input type="password" id="rPass" class="form-control mb-3" placeholder="Password" required>
                    <button class="btn btn-warning w-100 mb-3">Sign Up</button>
                    <p>Have an account? <a href="#" onclick="toggle()">Login</a></p>
                </form>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script>
        function toggle() {
            document.getElementById('loginForm').classList.toggle('hidden');
            document.getElementById('signupForm').classList.toggle('hidden');
        }

        document.getElementById('signupForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const res = registerUser(
                document.getElementById('rName').value,
                document.getElementById('rEmail').value,
                document.getElementById('rPass').value
            );
            alert(res.message);
            if(res.success) toggle();
        });

        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const res = loginUser(
                document.getElementById('lEmail').value,
                document.getElementById('lPass').value
            );
            if(res.success) window.location.href = "index.html";
            else alert(res.message);
        });
    </script>
</body>
</html>